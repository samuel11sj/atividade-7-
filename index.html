<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Consulta Meteorol√≥gica</title>
</head>
<body>
    <h1>Consulta de Temperatura</h1>
    <p>Abra o console do navegador (F12) para ver o resultado.</p>

    <script>
        // Fun√ß√£o para validar o nome da cidade
        function validateCityName(city) {
            const cityRegex = /^[A-Za-z√Ä-√ø\s-]+$/;
            return cityRegex.test(city);
        }

        // Fun√ß√£o ass√≠ncrona para consultar os dados meteorol√≥gicos da cidade
        async function getWeather(city) {
            const apiKey = '0a2af57bcb0c885f3ca5c46621690648'; // Sua chave de API
            const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)},BR&appid=${apiKey}&units=metric&lang=pt_br`;

            try {
                const response = await fetch(apiUrl);

                if (!response.ok) {
                    throw new Error("Cidade n√£o encontrada ou erro na API.");
                }

                const data = await response.json();
                return data.main.temp;
            } catch (error) {
                console.error("Erro ao buscar dados da API:", error.message);
                return null;
            }
        }

        // Fun√ß√£o principal
        async function main() {
            const city = prompt("Digite o nome de uma cidade brasileira:");

            if (!validateCityName(city)) {
                console.log("Nome de cidade inv√°lido. Use apenas letras, espa√ßos ou tra√ßos.");
                return;
            }

            console.log(`Buscando dados meteorol√≥gicos para "${city}"...`);

            const temperatura = await getWeather(city);

            if (temperatura !== null) {
                console.log(`üå§Ô∏è A temperatura atual em ${city} √© de ${temperatura}¬∞C.`);
            } else {
                console.log("‚ùå N√£o foi poss√≠vel obter os dados meteorol√≥gicos.");
            }
        }

        // Executa o c√≥digo
        main();
    </script>
</body>
</html>
